(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();const r=document.getElementById("chat-container"),l=document.getElementById("message-input"),g=document.getElementById("send-button"),h=document.getElementById("demo-button");g.addEventListener("click",f);h.addEventListener("click",y);const a=["Hey, how's it going?","I'm good, thanks! You?","Just chilling... image:https://loremflickr.com/200/140","Check this out: image:https://loremflickr.com/150/120","That's awesome!","Here's a sunset pic: https://loremflickr.com/200/130","Got any weekend plans?","Thinking of going hiking.","Nice! Take pics :)","Hey, how's it going?","I'm good, thanks! You?","Just chilling... image:https://loremflickr.com/200/140","Check this out: image:https://loremflickr.com/150/140","That's awesome!","Here's a sunset pic: https://loremflickr.com/200/130","Got any weekend plans?","Thinking of going hiking.","Nice! Take pics :)","Definitely!"];function p(o){const t=document.createElement("div");if(t.className="message",o.includes("image:")){const[i,s]=o.split("image:");i.trim()&&t.appendChild(document.createTextNode(i.trim()));const e=document.createElement("img");e.loading="lazy",e.src=s.trim(),t.appendChild(e)}else t.textContent=o;return t}function u(){return r.scrollTop<=5}function d(){r.scrollTop=r.scrollHeight}function m(o,t){const i=p(o);r.insertBefore(i,r.firstChild);const s=i.querySelectorAll("img");if(s.length>0){let e=0;s.forEach(n=>{n.onload=n.onerror=()=>{e++,e===s.length&&t&&requestAnimationFrame(()=>d())}})}else t&&d()}function f(){const o=l.value.trim();if(!o)return;const t=u();m(o,t),l.value=""}function y(){const o=u(),t=a[Math.floor(Math.random()*a.length)];m(t,o)}function k(){[...a].reverse().forEach(t=>m(t,!1)),setTimeout(()=>d(),100)}window.onload=()=>{k()};l.addEventListener("keypress",o=>{o.key==="Enter"&&f()});
